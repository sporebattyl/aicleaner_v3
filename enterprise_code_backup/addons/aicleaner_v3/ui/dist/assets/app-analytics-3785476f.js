var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,o=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&i(e,s,t[s]);if(r)for(var s of r(t))n.call(t,s)&&i(e,s,t[s]);return e},l=(e,r)=>t(e,s(r));import{r as c,j as d}from"./vendor-react-028964e9.js";import{W as u,A as m}from"./app-services-39021a89.js";import{A as h,B as p,R as b,C as g,a as x,P as y,F as v,b as j}from"./vendor-ui-95f0caeb.js";import{P as f}from"./vendor-utils-818bbafa.js";import{C as w,r as N,L as A,B as k}from"./vendor-charts-07629b84.js";import{C as E,E as S}from"./vendor-export-9f6dbaf1.js";const C={},_=function(e,t,s){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in C)return;C[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!s)for(let s=r.length-1;s>=0;s--){const a=r[s];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise((t,s)=>{n.addEventListener("load",t),n.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};c.lazy(()=>_(()=>Promise.resolve().then(()=>M),void 0).then(e=>({default:e.AnalyticsManager}))),c.lazy(()=>_(()=>import("./vendor-charts-07629b84.js").then(e=>e.i),["assets/vendor-charts-07629b84.js","assets/vendor-date-16f33ebf.js","assets/vendor-react-028964e9.js","assets/vendor-export-9f6dbaf1.js","assets/vendor-utils-818bbafa.js","assets/vendor-misc-6615fe3f.js"]).then(e=>({default:e.Line})));const P=Object.freeze(Object.defineProperty({__proto__:null,MonitoringDashboard:()=>{const[e,t]=c.useState({}),[s,r]=c.useState([]),[a,n]=c.useState([]),[i,o]=c.useState("disconnected"),[l,m]=c.useState({cpu:[],memory:[],timestamps:[]});c.useEffect(()=>(u.connect(e=>{v(e)}),u.onStatusChange(e=>{o(e)}),()=>{u.disconnect()}),[]);const v=e=>{switch(e.type){case"metrics":t(e.payload),j(e.payload);break;case"devices":r(e.payload);break;case"zones":n(e.payload)}},j=e=>{m(t=>({cpu:[...t.cpu.slice(-19),e.cpu_usage||0],memory:[...t.memory.slice(-19),e.memory_usage||0],timestamps:[...t.timestamps.slice(-19),(new Date).toLocaleTimeString()]}))},f={labels:l.timestamps,datasets:[{label:"CPU Usage (%)",data:l.cpu,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1},{label:"Memory Usage (%)",data:l.memory,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.1}]};return d.jsxs("div",{children:[d.jsxs(h,{variant:"connected"===i?"success":"warning",className:"mb-3",children:[d.jsx("strong",{children:"Status:"})," ","connected"===i?"Connected":"Disconnected","connected"===i&&d.jsx(p,{bg:"success",className:"ms-2",children:"Live"})]}),d.jsxs(b,{className:"mb-4",children:[d.jsx(g,{md:3,children:d.jsx(x,{children:d.jsxs(x.Body,{children:[d.jsx("h6",{children:"CPU Usage"}),d.jsx(y,{now:e.cpu_usage||0,label:`${e.cpu_usage||0}%`,variant:e.cpu_usage>80?"danger":e.cpu_usage>60?"warning":"success"})]})})}),d.jsx(g,{md:3,children:d.jsx(x,{children:d.jsxs(x.Body,{children:[d.jsx("h6",{children:"Memory Usage"}),d.jsx(y,{now:e.memory_usage||0,label:`${e.memory_usage||0}%`,variant:e.memory_usage>80?"danger":e.memory_usage>60?"warning":"success"})]})})}),d.jsx(g,{md:3,children:d.jsx(x,{children:d.jsxs(x.Body,{children:[d.jsx("h6",{children:"Active Zones"}),d.jsx("h3",{className:"text-primary",children:a.filter(e=>e.active).length})]})})}),d.jsx(g,{md:3,children:d.jsx(x,{children:d.jsxs(x.Body,{children:[d.jsx("h6",{children:"Connected Devices"}),d.jsx("h3",{className:"text-success",children:s.filter(e=>e.online).length})]})})})]}),d.jsxs(x,{className:"mb-4",children:[d.jsx(x.Header,{children:"Performance Metrics"}),d.jsx(x.Body,{style:{height:"300px"},children:d.jsx(Line,{data:f,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100}}}})})]}),d.jsxs(b,{children:[d.jsx(g,{md:6,children:d.jsxs(x,{children:[d.jsx(x.Header,{children:"Device Status"}),d.jsx(x.Body,{children:s.map(e=>d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[d.jsx("span",{children:e.name}),d.jsx(p,{bg:e.online?"success":"secondary",children:e.online?"Online":"Offline"})]},e.id))})]})}),d.jsx(g,{md:6,children:d.jsxs(x,{children:[d.jsx(x.Header,{children:"Zone Status"}),d.jsx(x.Body,{children:a.map(e=>d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[d.jsx("span",{children:e.name}),d.jsx(p,{bg:e.active?"primary":"secondary",children:e.active?"Active":"Inactive"})]},e.id))})]})})]})]})}},Symbol.toStringTag,{value:"Module"}));const T=new class{constructor(){this.focusTrap=null,this.announcementQueue=[],this.keyboardListeners=new Map,this.lastFocusedElement=null,this.setupAccessibilityFeatures()}setupAccessibilityFeatures(){this.setupHighContrastMode(),this.setupReducedMotion(),this.setupFocusManagement(),this.setupGlobalKeyboardHandlers(),this.setupScreenReaderAnnouncements()}setupHighContrastMode(){const e=window.matchMedia("(prefers-contrast: high)");this.applyHighContrastMode(e.matches),e.addEventListener("change",e=>{this.applyHighContrastMode(e.matches)});const t=localStorage.getItem("aicleaner_high_contrast");t&&this.applyHighContrastMode("true"===t)}applyHighContrastMode(e){document.body.classList.toggle("high-contrast",e),document.documentElement.style.setProperty("--accessibility-mode",e?"high-contrast":"normal"),e?(document.documentElement.style.setProperty("--text-color","#000000"),document.documentElement.style.setProperty("--background-color","#ffffff"),document.documentElement.style.setProperty("--link-color","#0000ff"),document.documentElement.style.setProperty("--button-color","#000000"),document.documentElement.style.setProperty("--border-color","#000000")):(document.documentElement.style.removeProperty("--text-color"),document.documentElement.style.removeProperty("--background-color"),document.documentElement.style.removeProperty("--link-color"),document.documentElement.style.removeProperty("--button-color"),document.documentElement.style.removeProperty("--border-color"))}toggleHighContrastMode(){const e=document.body.classList.contains("high-contrast");this.applyHighContrastMode(!e),localStorage.setItem("aicleaner_high_contrast",(!e).toString()),this.announce(e?"High contrast disabled":"High contrast enabled")}setupReducedMotion(){const e=window.matchMedia("(prefers-reduced-motion: reduce)");this.applyReducedMotion(e.matches),e.addEventListener("change",e=>{this.applyReducedMotion(e.matches)})}applyReducedMotion(e){document.body.classList.toggle("reduced-motion",e),document.documentElement.style.setProperty("--animation-duration",e?"0.01ms":"0.3s"),document.documentElement.style.setProperty("--transition-duration",e?"0.01ms":"0.15s")}setupFocusManagement(){document.addEventListener("focusout",e=>{e.target&&e.target!==document.body&&(this.lastFocusedElement=e.target)}),document.addEventListener("keydown",e=>{"Tab"===e.key&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")})}trapFocus(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(0===t.length)return;const s=t[0],r=t[t.length-1],a=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===s&&(r.focus(),e.preventDefault()):document.activeElement===r&&(s.focus(),e.preventDefault()))};return e.addEventListener("keydown",a),s.focus(),this.focusTrap={container:e,handleTabKey:a,release:()=>{e.removeEventListener("keydown",a),this.focusTrap=null,this.lastFocusedElement&&this.lastFocusedElement.focus()}},this.focusTrap}releaseFocusTrap(){this.focusTrap&&this.focusTrap.release()}setupGlobalKeyboardHandlers(){document.addEventListener("keydown",e=>{"Tab"===e.key&&e.ctrlKey&&this.handleSkipNavigation(e),"Escape"===e.key&&this.handleEscapeKey(e),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&this.handleArrowNavigation(e)})}handleSkipNavigation(e){const t=document.querySelectorAll(".skip-link");t.length>0&&(e.preventDefault(),t[0].focus())}handleEscapeKey(e){const t=document.querySelector(".modal.show");if(t){const e=t.querySelector('.btn-close, [data-bs-dismiss="modal"]');e&&e.click()}this.releaseFocusTrap()}handleArrowNavigation(e){const t=document.activeElement;"tab"===t.getAttribute("role")?this.handleTabNavigation(e,t):t.closest('[role="listbox"], [role="menu"]')&&this.handleMenuNavigation(e,t)}handleTabNavigation(e,t){const s=t.closest('[role="tablist"]');if(!s)return;const r=Array.from(s.querySelectorAll('[role="tab"]')),a=r.indexOf(t);let n;"ArrowLeft"===e.key||"ArrowUp"===e.key?n=a>0?a-1:r.length-1:"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(n=a<r.length-1?a+1:0),void 0!==n&&(e.preventDefault(),r[n].focus(),r[n].click())}handleMenuNavigation(e,t){const s=t.closest('[role="listbox"], [role="menu"]');if(!s)return;const r=Array.from(s.querySelectorAll('[role="option"], [role="menuitem"]')),a=r.indexOf(t);let n;"ArrowUp"===e.key?n=a>0?a-1:r.length-1:"ArrowDown"===e.key&&(n=a<r.length-1?a+1:0),void 0!==n&&(e.preventDefault(),r[n].focus())}setupScreenReaderAnnouncements(){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",e.id="accessibility-announcer",document.body.appendChild(e),this.announcer=e}announce(e,t="polite"){e&&this.announcer&&(this.announcer.textContent="",this.announcer.setAttribute("aria-live",t),setTimeout(()=>{this.announcer.textContent=e},100),setTimeout(()=>{this.announcer.textContent=""},1e3))}announcePageChange(e){this.announce(`Navigated to ${e} page`)}announceFormError(e,t){this.announce(`Error in ${e}: ${t}`,"assertive")}announceSuccess(e){this.announce(`Success: ${e}`)}setAriaExpanded(e,t){e.setAttribute("aria-expanded",t.toString())}setAriaSelected(e,t){e.setAttribute("aria-selected",t.toString())}setAriaChecked(e,t){e.setAttribute("aria-checked",t.toString())}setAriaHidden(e,t){e.setAttribute("aria-hidden",t.toString())}enhanceFormAccessibility(e){e.querySelectorAll("input, select, textarea").forEach(t=>{var s;const r=e.querySelector(`label[for="${t.id}"]`)||(null==(s=t.closest(".form-group"))?void 0:s.querySelector("label"));r&&!t.getAttribute("aria-labelledby")&&(r.id||(r.id=`label-${t.id||Date.now()}`),t.setAttribute("aria-labelledby",r.id)),t.required&&!t.getAttribute("aria-required")&&t.setAttribute("aria-required","true");const a=e.querySelector(`[data-error-for="${t.id}"]`);a&&(a.id||(a.id=`error-${t.id}`),t.setAttribute("aria-describedby",a.id),t.setAttribute("aria-invalid","true"))})}enhanceButton(e,t,s){if(t&&e.setAttribute("aria-label",t),s){const t=`desc-${Date.now()}`,r=document.createElement("span");r.id=t,r.className="sr-only",r.textContent=s,e.appendChild(r),e.setAttribute("aria-describedby",t)}}enhanceTable(e){if(!e.querySelector("caption")){const t=document.createElement("caption");t.className="sr-only",t.textContent="Data table",e.insertBefore(t,e.firstChild)}const t=e.querySelectorAll("th");t.forEach((e,t)=>{e.id||(e.id=`header-${t}`),e.getAttribute("scope")||e.setAttribute("scope","col")});e.querySelectorAll("tbody tr").forEach(e=>{e.querySelectorAll("td").forEach((e,s)=>{const r=t[s];r&&!e.getAttribute("headers")&&e.setAttribute("headers",r.id)})})}addSkipLinks(){const e=document.createElement("div");e.className="skip-links",e.innerHTML='\n            <a href="#main-content" class="skip-link">Skip to main content</a>\n            <a href="#navigation" class="skip-link">Skip to navigation</a>\n        ',document.body.insertBefore(e,document.body.firstChild)}destroy(){this.focusTrap&&this.focusTrap.release(),this.keyboardListeners.forEach((e,t)=>{t.removeEventListener("keydown",e)}),this.announcer&&this.announcer.remove()}};w.register(...N);const L=()=>{var e,t,s,r,a,n,i,u,f,w,N,C,_,P,L,M,R,U,O,D,H,B,F,q,$,I,z,K,G,Z,Q,V;const{announce:W}=(()=>{const[e,t]=React.useState(document.body.classList.contains("high-contrast"));return React.useEffect(()=>{const e=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"class"===e.attributeName&&t(document.body.classList.contains("high-contrast"))})});return e.observe(document.body,{attributes:!0}),()=>e.disconnect()},[]),{highContrast:e,toggleHighContrast:T.toggleHighContrastMode.bind(T),announce:T.announce.bind(T),trapFocus:T.trapFocus.bind(T),releaseFocusTrap:T.releaseFocusTrap.bind(T),enhanceFormAccessibility:T.enhanceFormAccessibility.bind(T)}})(),[Y,J]=c.useState({metrics:{},performance:{},usage:{},errors:[],loading:!0}),[X,ee]=c.useState("24h"),[te,se]=c.useState(30),[re,ae]=c.useState(!0),ne=c.useRef(null);c.useEffect(()=>(ie(),re&&(ne.current=setInterval(ie,1e3*te)),()=>{ne.current&&clearInterval(ne.current)}),[X,te,re]);const ie=()=>{return e=void 0,t=null,s=function*(){try{const e=yield m.getAnalytics(X);J(l(o({},e),{loading:!1})),W("Analytics data updated")}catch(e){J(e=>l(o({},e),{loading:!1})),W("Failed to load analytics data","assertive")}},new Promise((r,a)=>{var n=e=>{try{o(s.next(e))}catch(t){a(t)}},i=e=>{try{o(s.throw(e))}catch(t){a(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,i);o((s=s.apply(e,t)).next())});var e,t,s},oe=e=>{var t,s;try{if("json"===e){const e=JSON.stringify(Y,null,2),t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=`analytics_${X}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}else if("pdf"===e){const e=new S;e.text("Analytics Report",14,16),e.addPage(),e.text("Performance Metrics",14,16),e.autoTable({startY:20,head:[["Timestamp","CPU Usage (%)","Memory Usage (%)","Network I/O (MB/s)"]],body:(null==(s=null==(t=Y.performance)?void 0:t.timestamps)?void 0:s.map((e,t)=>{var s,r,a;return[new Date(e).toLocaleString(),(null==(s=Y.performance.cpu)?void 0:s[t])||"N/A",(null==(r=Y.performance.memory)?void 0:r[t])||"N/A",(null==(a=Y.performance.network)?void 0:a[t])||"N/A"]}))||[]}),e.addPage(),e.text("Usage Statistics",14,16),e.autoTable({startY:20,head:[["Feature","Usage Count"]],body:Object.entries(Y.usage||{}).map(([e,t])=>[e,t])}),Y.errors&&Y.errors.length>0&&(e.addPage(),e.text("Recent Errors",14,16),e.autoTable({startY:20,head:[["Timestamp","Message","Source","Severity"]],body:Y.errors.map(e=>[new Date(e.timestamp).toLocaleString(),e.message||"Unknown error",e.source||"Unknown",e.severity||"Medium"])})),e.save(`analytics_${X}.pdf`)}W(`Analytics exported as ${e}`)}catch(r){W("Failed to export analytics","assertive")}},le={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"System Performance Metrics"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"#007bff",borderWidth:1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}},accessibility:{enabled:!0,description:"Performance metrics chart showing system utilization over time"}},ce={labels:(null==(e=Y.performance)?void 0:e.timestamps)||[],datasets:[{label:"CPU Usage (%)",data:(null==(t=Y.performance)?void 0:t.cpu)||[],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.1},{label:"Memory Usage (%)",data:(null==(s=Y.performance)?void 0:s.memory)||[],borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.1},{label:"Network I/O (MB/s)",data:(null==(r=Y.performance)?void 0:r.network)||[],borderColor:"rgb(255, 205, 86)",backgroundColor:"rgba(255, 205, 86, 0.2)",tension:.1}]},de={labels:["AI Requests","MQTT Messages","Device Updates","Zone Triggers","API Calls"],datasets:[{label:"Usage Count",data:[(null==(a=Y.usage)?void 0:a.ai_requests)||0,(null==(n=Y.usage)?void 0:n.mqtt_messages)||0,(null==(i=Y.usage)?void 0:i.device_updates)||0,(null==(u=Y.usage)?void 0:u.zone_triggers)||0,(null==(f=Y.usage)?void 0:f.api_calls)||0],backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 205, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 205, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};return Y.loading?d.jsx(x,{children:d.jsxs(x.Body,{className:"text-center",children:[d.jsx("div",{className:"spinner-border",role:"status","aria-label":"Loading analytics",children:d.jsx("span",{className:"visually-hidden",children:"Loading analytics..."})}),d.jsx("p",{className:"mt-2",children:"Loading analytics data..."})]})}):d.jsxs("div",{children:[d.jsxs(x,{className:"mb-4",children:[d.jsx(x.Header,{children:d.jsxs(b,{className:"align-items-center",children:[d.jsxs(g,{children:[d.jsx("h4",{className:"mb-0",children:"Analytics Dashboard"}),d.jsx("small",{className:"text-muted",children:"Real-time monitoring and performance metrics"})]}),d.jsx(g,{xs:"auto",children:d.jsx(p,{bg:re?"success":"secondary",pill:!0,"aria-label":"Auto refresh "+(re?"enabled":"disabled"),children:re?"Live":"Paused"})})]})}),d.jsx(x.Body,{children:d.jsxs(b,{className:"align-items-center mb-3",children:[d.jsx(g,{md:3,children:d.jsxs(v.Group,{children:[d.jsx(v.Label,{htmlFor:"time-range-select",children:"Time Range"}),d.jsxs(v.Select,{id:"time-range-select",value:X,onChange:e=>{return t=e.target.value,ee(t),void W(`Time range changed to ${t}`);var t},"aria-describedby":"time-range-help",children:[d.jsx("option",{value:"1h",children:"Last Hour"}),d.jsx("option",{value:"24h",children:"Last 24 Hours"}),d.jsx("option",{value:"7d",children:"Last 7 Days"}),d.jsx("option",{value:"30d",children:"Last 30 Days"})]}),d.jsx(v.Text,{id:"time-range-help",className:"text-muted",children:"Select the time period for analytics data"})]})}),d.jsx(g,{md:3,children:d.jsxs(v.Group,{children:[d.jsx(v.Label,{htmlFor:"refresh-interval-select",children:"Refresh Interval"}),d.jsxs(v.Select,{id:"refresh-interval-select",value:te,onChange:e=>{return t=parseInt(e.target.value),se(t),ne.current&&clearInterval(ne.current),re&&(ne.current=setInterval(ie,1e3*t)),void W(`Refresh interval set to ${t} seconds`);var t},disabled:!re,"aria-describedby":"refresh-interval-help",children:[d.jsx("option",{value:10,children:"10 seconds"}),d.jsx("option",{value:30,children:"30 seconds"}),d.jsx("option",{value:60,children:"1 minute"}),d.jsx("option",{value:300,children:"5 minutes"})]}),d.jsx(v.Text,{id:"refresh-interval-help",className:"text-muted",children:"How often to update the data"})]})}),d.jsx(g,{md:3,children:d.jsxs(v.Group,{children:[d.jsx(v.Label,{children:"Â "}),d.jsxs("div",{children:[d.jsx(v.Check,{type:"switch",id:"auto-refresh-switch",label:"Auto Refresh",checked:re,onChange:e=>ae(e.target.checked),"aria-describedby":"auto-refresh-help"}),d.jsx(v.Text,{id:"auto-refresh-help",className:"text-muted",children:"Automatically update dashboard"})]})]})}),d.jsx(g,{md:3,className:"text-end",children:d.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[d.jsx(j,{variant:"outline-primary",size:"sm",onClick:ie,"aria-label":"Manually refresh analytics data",children:"Refresh"}),d.jsxs("div",{className:"dropdown",children:[d.jsx(j,{variant:"outline-secondary",size:"sm",className:"dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Export analytics data",children:"Export"}),d.jsxs("ul",{className:"dropdown-menu",children:[d.jsx("li",{children:d.jsx("button",{className:"dropdown-item",onClick:()=>oe("json"),children:"JSON"})}),d.jsx("li",{children:d.jsx(E,{data:Y.errors||[],filename:`analytics_errors_${X}.csv`,className:"dropdown-item",onClick:()=>W("CSV export started"),children:"CSV (Errors)"})}),d.jsx("li",{children:d.jsx("button",{className:"dropdown-item",onClick:()=>oe("pdf"),children:"PDF Report"})})]})]})]})})]})})]}),d.jsxs(b,{className:"mb-4",children:[d.jsx(g,{md:3,children:d.jsx(x,{className:"h-100",children:d.jsxs(x.Body,{className:"text-center",children:[d.jsxs("h2",{className:"text-primary mb-1","aria-label":"System uptime percentage",children:[(null==(w=Y.metrics)?void 0:w.uptime)||"99.9","%"]}),d.jsx("p",{className:"text-muted mb-0",children:"System Uptime"}),d.jsx(y,{now:(null==(N=Y.metrics)?void 0:N.uptime)||99.9,variant:"success",className:"mt-2","aria-label":`System uptime: ${(null==(C=Y.metrics)?void 0:C.uptime)||99.9}%`})]})})}),d.jsx(g,{md:3,children:d.jsx(x,{className:"h-100",children:d.jsxs(x.Body,{className:"text-center",children:[d.jsxs("h2",{className:"text-info mb-1","aria-label":"Average response time",children:[(null==(_=Y.metrics)?void 0:_.avg_response_time)||"45","ms"]}),d.jsx("p",{className:"text-muted mb-0",children:"Avg Response Time"}),d.jsxs("small",{className:"text-success",children:[(null==(P=Y.metrics)?void 0:P.response_time_trend)||"+5%"," from last period"]})]})})}),d.jsx(g,{md:3,children:d.jsx(x,{className:"h-100",children:d.jsxs(x.Body,{className:"text-center",children:[d.jsx("h2",{className:"text-warning mb-1","aria-label":"Active devices count",children:(null==(L=Y.metrics)?void 0:L.active_devices)||"12"}),d.jsx("p",{className:"text-muted mb-0",children:"Active Devices"}),d.jsxs("small",{className:"text-info",children:[(null==(M=Y.metrics)?void 0:M.device_trend)||"+2"," new this week"]})]})})}),d.jsx(g,{md:3,children:d.jsx(x,{className:"h-100",children:d.jsxs(x.Body,{className:"text-center",children:[d.jsx("h2",{className:"text-danger mb-1","aria-label":"Error count",children:(null==(R=Y.metrics)?void 0:R.error_count)||"0"}),d.jsx("p",{className:"text-muted mb-0",children:"Errors (24h)"}),d.jsx(p,{bg:0===(null==(U=Y.metrics)?void 0:U.error_count)?"success":"warning","aria-label":"Error status: "+(0===(null==(O=Y.metrics)?void 0:O.error_count)?"healthy":"needs attention"),children:0===(null==(D=Y.metrics)?void 0:D.error_count)?"Healthy":"Monitor"})]})})})]}),d.jsxs(b,{className:"mb-4",children:[d.jsx(g,{lg:8,children:d.jsxs(x,{children:[d.jsxs(x.Header,{children:[d.jsx("h5",{children:"Performance Metrics"}),d.jsx("small",{className:"text-muted",children:"Real-time system resource utilization"})]}),d.jsx(x.Body,{children:d.jsx("div",{style:{height:"300px"},children:d.jsx(A,{data:ce,options:le,"aria-label":"Performance metrics line chart showing CPU, memory, and network usage over time"})})})]})}),d.jsx(g,{lg:4,children:d.jsxs(x,{children:[d.jsxs(x.Header,{children:[d.jsx("h5",{children:"Usage Statistics"}),d.jsx("small",{className:"text-muted",children:"Feature utilization breakdown"})]}),d.jsx(x.Body,{children:d.jsx("div",{style:{height:"300px"},children:d.jsx(k,{data:de,options:l(o({},le),{plugins:l(o({},le.plugins),{legend:{display:!1},title:{display:!1}}),accessibility:{enabled:!0,description:"Usage statistics bar chart showing feature utilization counts"}}),"aria-label":"Usage statistics bar chart showing counts for different system features"})})})]})})]}),Y.errors&&Y.errors.length>0&&d.jsxs(x,{className:"mb-4",children:[d.jsx(x.Header,{children:d.jsx("h5",{className:"mb-0",children:"Recent Errors"})}),d.jsx(x.Body,{children:Y.errors.map((e,t)=>d.jsx(h,{variant:"warning",className:"mb-2",role:"alert","aria-label":`Error: ${e.message}`,children:d.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[d.jsxs("div",{children:[d.jsx("strong",{children:e.type||"Error"}),d.jsx("p",{className:"mb-1",children:e.message}),d.jsxs("small",{className:"text-muted",children:[e.timestamp," - Component: ",e.component||"Unknown"]})]}),d.jsx(p,{bg:"warning",children:e.severity||"Medium"})]})},t))})]}),d.jsxs(x,{children:[d.jsx(x.Header,{children:d.jsx("h5",{children:"System Health Status"})}),d.jsx(x.Body,{children:d.jsxs(b,{children:[d.jsx(g,{md:4,children:d.jsxs("div",{className:"d-flex align-items-center mb-3",children:[d.jsx("div",{className:"rounded-circle me-3",style:{width:"12px",height:"12px",backgroundColor:(null==(H=Y.health)?void 0:H.database)?"#28a745":"#dc3545"},"aria-label":"Database status: "+((null==(B=Y.health)?void 0:B.database)?"healthy":"unhealthy")}),d.jsx("span",{children:"Database Connection"}),d.jsx(p,{bg:(null==(F=Y.health)?void 0:F.database)?"success":"danger",className:"ms-auto",children:(null==(q=Y.health)?void 0:q.database)?"OK":"Down"})]})}),d.jsx(g,{md:4,children:d.jsxs("div",{className:"d-flex align-items-center mb-3",children:[d.jsx("div",{className:"rounded-circle me-3",style:{width:"12px",height:"12px",backgroundColor:(null==($=Y.health)?void 0:$.mqtt)?"#28a745":"#dc3545"},"aria-label":"MQTT broker status: "+((null==(I=Y.health)?void 0:I.mqtt)?"connected":"disconnected")}),d.jsx("span",{children:"MQTT Broker"}),d.jsx(p,{bg:(null==(z=Y.health)?void 0:z.mqtt)?"success":"danger",className:"ms-auto",children:(null==(K=Y.health)?void 0:K.mqtt)?"Connected":"Offline"})]})}),d.jsx(g,{md:4,children:d.jsxs("div",{className:"d-flex align-items-center mb-3",children:[d.jsx("div",{className:"rounded-circle me-3",style:{width:"12px",height:"12px",backgroundColor:(null==(G=Y.health)?void 0:G.ai_provider)?"#28a745":"#dc3545"},"aria-label":"AI provider status: "+((null==(Z=Y.health)?void 0:Z.ai_provider)?"available":"unavailable")}),d.jsx("span",{children:"AI Provider"}),d.jsx(p,{bg:(null==(Q=Y.health)?void 0:Q.ai_provider)?"success":"danger",className:"ms-auto",children:(null==(V=Y.health)?void 0:V.ai_provider)?"Available":"Error"})]})})]})})]})]})};L.propTypes={defaultTimeRange:f.oneOf(["1h","24h","7d","30d"]),autoRefreshEnabled:f.bool},L.defaultProps={defaultTimeRange:"24h",autoRefreshEnabled:!0};const M=Object.freeze(Object.defineProperty({__proto__:null,AnalyticsManager:L,default:L},Symbol.toStringTag,{value:"Module"}));export{P as M,_};
